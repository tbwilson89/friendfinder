<!DOCTYPE html>
  <html lang="en" dir="ltr">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

      <link rel="stylesheet" href="">
      <script src="https://code.jquery.com/jquery.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
      <script src=""></script>
      <title>Friend Finder || Survey</title>
    </head>
  <body>
    <section id='main-content'>
      <div class='container'>
        <h1>Survey</h1>
        <form>
          <div class="form-row">
            <div class="form-group col-md-6">
              <label for="inputName">Name</label>
              <input type="text" class="form-control" id="inputName" placeholder="Name">
            </div>
            <div class="form-group col-md-6">
              <label for="inputPhoto">Photo URL</label>
              <input type="text" class="form-control" id="inputPhoto" placeholder="URL">
            </div>
          </div>
          <h2 for="inputPhoto">Answer questions as accurately as possible</h2>
          <hr />
          <h3 for="inputPhoto">I enjoy meeting new people.</h3>
          <div class="form-row">
            <label class="radio-inline"><input type="radio" name="one" value='1'>1 (Strongly Disagree)</label>
            <label class="radio-inline"><input type="radio" name="one" value='2'>2</label>
            <label class="radio-inline"><input type="radio" name="one" value='3' checked>3</label>
            <label class="radio-inline"><input type="radio" name="one" value='4'>4</label>
            <label class="radio-inline"><input type="radio" name="one" value='5'>5 (Strongly Agree)</label>
          </div>
          <h3 for="inputPhoto">I enjoy going out on weekends.</h3>
          <div class="form-row">
            <label class="radio-inline"><input type="radio" name="two" value='1'>1 (Strongly Disagree)</label>
            <label class="radio-inline"><input type="radio" name="two" value='2'>2</label>
            <label class="radio-inline"><input type="radio" name="two" value='3' checked>3</label>
            <label class="radio-inline"><input type="radio" name="two" value='4'>4</label>
            <label class="radio-inline"><input type="radio" name="two" value='5'>5 (Strongly Agree)</label>
          </div>
          <h3 for="inputPhoto">I enjoy staying in and watching a movie or playing video games.</h3>
          <div class="form-row">
            <label class="radio-inline"><input type="radio" name="three" value='1'>1 (Strongly Disagree)</label>
            <label class="radio-inline"><input type="radio" name="three" value='2'>2</label>
            <label class="radio-inline"><input type="radio" name="three" value='3' checked>3</label>
            <label class="radio-inline"><input type="radio" name="three" value='4'>4</label>
            <label class="radio-inline"><input type="radio" name="three" value='5'>5 (Strongly Agree)</label>
          </div>
          <h3 for="inputPhoto">I am rarely upset by the actions of others.</h3>
          <div class="form-row">
            <label class="radio-inline"><input type="radio" name="four" value='1'>1 (Strongly Disagree)</label>
            <label class="radio-inline"><input type="radio" name="four" value='2'>2</label>
            <label class="radio-inline"><input type="radio" name="four" value='3' checked>3</label>
            <label class="radio-inline"><input type="radio" name="four" value='4'>4</label>
            <label class="radio-inline"><input type="radio" name="four" value='5'>5 (Strongly Agree)</label>
          </div>
          <h3 for="inputPhoto">I enjoy having long, thoughtful conversations.</h3>
          <div class="form-row">
            <label class="radio-inline"><input type="radio" name="five" value='1'>1 (Strongly Disagree)</label>
            <label class="radio-inline"><input type="radio" name="five" value='2'>2</label>
            <label class="radio-inline"><input type="radio" name="five" value='3' checked>3</label>
            <label class="radio-inline"><input type="radio" name="five" value='4'>4</label>
            <label class="radio-inline"><input type="radio" name="five" value='5'>5 (Strongly Agree)</label>
          </div>
          <h3 for="inputPhoto">I believe in truth above all else, even if it means offending someone.</h3>
          <div class="form-row">
            <label class="radio-inline"><input type="radio" name="six" value='1'>1 (Strongly Disagree)</label>
            <label class="radio-inline"><input type="radio" name="six" value='2'>2</label>
            <label class="radio-inline"><input type="radio" name="six" value='3' checked>3</label>
            <label class="radio-inline"><input type="radio" name="six" value='4'>4</label>
            <label class="radio-inline"><input type="radio" name="six" value='5'>5 (Strongly Agree)</label>
          </div>
          <h3 for="inputPhoto">Being around large groups of people is exhausting.</h3>
          <div class="form-row">
            <label class="radio-inline"><input type="radio" name="seven" value='1'>1 (Strongly Disagree)</label>
            <label class="radio-inline"><input type="radio" name="seven" value='2'>2</label>
            <label class="radio-inline"><input type="radio" name="seven" value='3' checked>3</label>
            <label class="radio-inline"><input type="radio" name="seven" value='4'>4</label>
            <label class="radio-inline"><input type="radio" name="seven" value='5'>5 (Strongly Agree)</label>
          </div>
          <h3 for="inputPhoto">I tend to look into new things I hear about, rather then sticking with the same things all the time.</h3>
          <div class="form-row">
            <label class="radio-inline"><input type="radio" name="eight" value='1'>1 (Strongly Disagree)</label>
            <label class="radio-inline"><input type="radio" name="eight" value='2'>2</label>
            <label class="radio-inline"><input type="radio" name="eight" value='3' checked>3</label>
            <label class="radio-inline"><input type="radio" name="eight" value='4'>4</label>
            <label class="radio-inline"><input type="radio" name="eight" value='5'>5 (Strongly Agree)</label>
          </div>
          <h3 for="inputPhoto">I would rather go out to eat in groups rather than by myself.</h3>
          <div class="form-row">
            <label class="radio-inline"><input type="radio" name="nine" value='1'>1 (Strongly Disagree)</label>
            <label class="radio-inline"><input type="radio" name="nine" value='2'>2</label>
            <label class="radio-inline"><input type="radio" name="nine" value='3' checked>3</label>
            <label class="radio-inline"><input type="radio" name="nine" value='4'>4</label>
            <label class="radio-inline"><input type="radio" name="nine" value='5'>5 (Strongly Agree)</label>
          </div>
          <h3 for="inputPhoto">When working on a project, I like to get input from others.</h3>
          <div class="form-row">
            <label class="radio-inline"><input type="radio" name="ten" value='1'>1 (Strongly Disagree)</label>
            <label class="radio-inline"><input type="radio" name="ten" value='2'>2</label>
            <label class="radio-inline"><input type="radio" name="ten" value='3' checked>3</label>
            <label class="radio-inline"><input type="radio" name="ten" value='4'>4</label>
            <label class="radio-inline"><input type="radio" name="ten" value='5'>5 (Strongly Agree)</label>
          </div>
          <br>
          <button id='submit' type="button" class="btn btn-primary btn-lg btn-block">Submit</button>
        </form>
        <footer class="footer">
          <div class="container">
            <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/tbwilson89/friendfinder">GitHub Repo</a></p>
          </div>
        </footer>

      </div>
    </section>
    <div class="modal fade" id="match-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            <h3 class="modal-title" id="exampleModalLabel">Top Friend Match!</h3>
          </div>
          <div class="modal-body">
            <h3 id='modal-name'></h3>
            <img id='modal-img' src="" alt="..." class="img-thumbnail">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>

<script type="text/javascript">
  $('#submit').on('click', function(event){
    event.preventDefault()

    var newFriend = {
      name: $('#inputName').val(),
      photo: $('#inputPhoto').val(),
      scores: [
        $('input[name=one]:checked').val(),
        $('input[name=two]:checked').val(),
        $('input[name=three]:checked').val(),
        $('input[name=four]:checked').val(),
        $('input[name=five]:checked').val(),
        $('input[name=six]:checked').val(),
        $('input[name=seven]:checked').val(),
        $('input[name=eight]:checked').val(),
        $('input[name=nine]:checked').val(),
        $('input[name=ten]:checked').val(),
      ]
    }
    $.post('/api/friends', newFriend, function(data){
      console.log(data)
      if(data){
        $('#modal-name').text(data.name)
        $('#modal-img').attr('src', data.photo)
        $('#match-modal').modal('toggle')
      } else {
        alert('Seems to have been an issue...')
      }
    })

    console.log(newFriend)
  })


</script>
